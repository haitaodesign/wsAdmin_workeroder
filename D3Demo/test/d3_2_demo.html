<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>D3学习——第一个例子</title>
</head>

<body>

    <script src="../node_modules/d3/build/d3.js"></script>
    <script>
        var svg = d3.select("body").append("svg").attr('height', 300);

        function updateBars(barData) {
            var selection = svg.selectAll(".bar")
                .data(barData)

            selection.enter().append("rect")
                .attr("class", "bar")
                .attr("x", 0)
                .attr("height", 20)
                .style("fill", "steelblue")
                //这种写法在d3.v4中会失效   
                // selection
                .attr("y", function(d, i) {
                    return i * 70 + 30
                })
                .attr("width", function(d) {
                    return d
                })

            selection.exit().remove()
        }

        //updateBars([170, 20, 73]);
        //updateBars([34, 100]);
        updateBars([100, 34, 150, 160]);
    </script>
</body>

</html>