<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>fileinput上传插件使用</title>
    <link rel="stylesheet" href="/plugins/node_modules/bootstrap/dist/css/bootstrap.css">
    <link rel="stylesheet" href="/plugins/node_modules/bootstrap-fileinput/css/fileinput.css">
    <link rel="stylesheet" href="/plugins/node_modules/bootstrap-fileinput/themes/explorer/theme.css">
    <link rel="stylesheet" href="/plugins/node_modules/Font-Awesome/css/font-awesome.css">
</head>

<body>

    <label class="control-label">Select File</label>
    <input id="input-ke-1" name="inputKE1[]" type="file" multiple class="file-loading" accept="image">
    <label class="control-label">Select File</label>
    <input id="input-ke-2" name="inputKE2[]" type="file" multiple class="file-loading">
    <script src="/plugins/node_modules/jquery/dist/jquery.min.js"></script>
    <script src="/plugins/node_modules/bootstrap/dist/js/bootstrap.js"></script>
    <script src="/plugins/node_modules/bootstrap-fileinput/js/fileinput.js"></script>
    <script src="/plugins/node_modules/bootstrap-fileinput/themes/explorer/theme.js"></script>
    <script src="/plugins/node_modules/bootstrap-fileinput/js/locales/zh.js"></script>
    <script>
        $("#input-ke-1").fileinput({
            language: 'zh',
            theme: "explorer",
            uploadUrl: "/file-upload-batch/2",
            allowedFileExtensions: ['jpg', 'png', 'gif'],
            overwriteInitial: false,
            initialPreviewAsData: true,
            initialPreview: [
                "http://lorempixel.com/1920/1080/nature/1",
                "http://lorempixel.com/1920/1080/nature/2",
                // "http://lorempixel.com/1920/1080/nature/3",
            ],
            initialPreviewConfig: [{
                caption: "nature-1.jpg",
                //size: 329892,
                width: "120px",
                url: "/site/file-delete", //删除url
                key: 1
            }, {
                caption: "nature-2.jpg",
                //size: 872378,
                width: "120px",
                url: "/site/file-delete",
                key: 2
            }, {
                caption: "nature-3.jpg",
                //size: 632762,
                width: "120px",
                url: "/site/file-delete",
                key: 3
            }, ]
        });

        $("#input-ke-2").fileinput({
            language: 'zh',
            theme: "explorer",
            uploadUrl: "/file-upload-batch/2",
            minFileCount: 2,
            maxFileCount: 5,
            overwriteInitial: false,
            previewFileIcon: '<i class="fa fa-file"></i>',
            initialPreview: [

            ],
            initialPreviewAsData: false, // defaults markup  
            initialPreviewConfig: [],
            // uploadExtraData: {
            //     img_key: "1000",
            //     img_keywords: "happy, nature",
            // },
            preferIconicPreview: true, // this will force thumbnails to display icons for following file extensions
            previewFileIconSettings: { // configure your icon file extensions
                'pdf': '<i class="fa fa-file-pdf-o text-danger"></i>',
                // note for these file types below no extension determination logic 
                // has been configured (the keys itself will be used as extensions)
                'jpg': '<i class="fa fa-file-photo-o text-danger"></i>',
                'gif': '<i class="fa fa-file-photo-o text-muted"></i>',
                'png': '<i class="fa fa-file-photo-o text-primary"></i>'
            },
            previewFileExtSettings: { // configure the logic for determining icon file extensions
                'doc': function(ext) {
                    return ext.match(/(doc|docx)$/i);
                },
                'xls': function(ext) {
                    return ext.match(/(xls|xlsx)$/i);
                },
                'ppt': function(ext) {
                    return ext.match(/(ppt|pptx)$/i);
                },
                'zip': function(ext) {
                    return ext.match(/(zip|rar|tar|gzip|gz|7z)$/i);
                },
                'htm': function(ext) {
                    return ext.match(/(htm|html)$/i);
                },
                'txt': function(ext) {
                    return ext.match(/(txt|ini|csv|java|php|js|css)$/i);
                },
                'mov': function(ext) {
                    return ext.match(/(avi|mpg|mkv|mov|mp4|3gp|webm|wmv)$/i);
                },
                'mp3': function(ext) {
                    return ext.match(/(mp3|wav)$/i);
                },
            }
        });
    </script>
</body>

</html>